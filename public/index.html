<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Prompt D - Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
      <!-- Favicon ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">
    
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Google Sign-In -->
    <script src="https://accounts.google.com/gsi/client" async defer onload="console.log('Google Identity Services loaded')"></script>
    
    <!-- Initialize Google Sign-In immediately -->
    <script>
        window.onGoogleLibraryLoad = function() {
            console.log('Google library ready for initialization');
        };
    </script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-top">
                <div class="logo">
                    <div class="logo-icon">üé¨</div>
                    <div class="logo-text">
                        <h1>Prompt D - Generator</h1>
<p>AI-Powered Prompt Generator</p>
                    </div>
                </div>
                <div class="usage-display" style="display: flex; align-items: center; gap: 15px;">
                    <div class="user-info">
                        <div class="user-id" id="userId">user_xxx</div>
                        <div class="usage-info">
                            <div class="usage-bar">
                                <div class="usage-progress" id="usageProgress"></div>
                            </div>
                            <div class="usage-text" id="usageText">‡∏ø0.00/5.00</div>
                            <button class="mobile-credit-btn" onclick="showCreditPackages()" title="‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå">
                                <span class="credit-plus">üíù</span>
                            </button>
                        </div>
                        <div class="mobile-total-credits" id="mobileTotalCredits">
                            <span class="credit-icon">üí∞</span>
                            <span class="credit-text">‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß: <span id="totalPurchasedCredits">0</span> ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</span>
                        </div>
                    </div>
                    
                    <!-- Google Sign In Section -->
                    <div id="authSection" style="display: flex; align-items: center; gap: 10px;">
                        <!-- Sign In Button -->
                        <div id="googleSignInWrapper">
                            <div id="googleSignInButton"></div>
                            <!-- Fallback manual button -->
                            <button class="manual-google-signin" onclick="manualGoogleSignIn()" style="display: none;" id="manualSignInBtn">
                                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google">
                                <span>Sign in with Google</span>
                            </button>
                        </div>
                        
                        <!-- User Profile (hidden by default) -->
                        <div id="userProfile" style="display: none; align-items: center; gap: 10px;">
                            <img id="userAvatar" src="" alt="User" style="width: 36px; height: 36px; border-radius: 50%; border: 2px solid #9333ea;">
                            <div style="display: flex; flex-direction: column;">
                                <span id="userName" style="color: #fff; font-size: 14px; font-weight: 500;"></span>
                                <span id="userEmail" style="color: #a1a1aa; font-size: 12px;"></span>
                            </div>
                            <button onclick="signOut()" class="sign-out-btn" title="‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"></path>
                                    <polyline points="16 17 21 12 16 7"></polyline>
                                    <line x1="21" y1="12" x2="9" y2="12"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mode Selector -->
<div class="mode-selector">
    <button class="mode-btn active" data-mode="general" onclick="switchMode('general')">
        <span class="mode-icon">üé¨</span>
        <span class="mode-text">General Prompt</span>
    </button>
    <button class="mode-btn" data-mode="multichar" onclick="switchMode('multichar')">
        <span class="mode-icon">üé≠</span>
        <span class="mode-text">Prompt Master</span>
    </button>
    <!-- ‡∏¢‡πâ‡∏≤‡∏¢ Image Gen ‡∏°‡∏≤‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏° class ‡∏û‡∏¥‡πÄ‡∏®‡∏© -->
    <button class="mode-btn new-feature" data-mode="image" onclick="switchMode('image')">
        <span class="mode-icon">üé®</span>
        <span class="mode-text">Image Gen</span>
        <span class="new-badge">NEW!</span>
    </button>
     <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° AI Chat ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
    <button class="mode-btn new-feature-chat" data-mode="chat" onclick="switchMode('chat')">
    <span class="mode-icon">üí¨</span>
    <span class="mode-text">AI Chat</span>
    <span class="new-badge">NEW!</span>
</button>
    <button class="mode-btn" data-mode="character" onclick="switchMode('character')">
        <span class="mode-icon">üßô</span>
        <span class="mode-text">Character Creator</span>
    </button>
    <button class="mode-btn" data-mode="library" onclick="switchMode('library')">
        <span class="mode-icon">üóÇÔ∏è</span>
        <span class="mode-text">My Characters</span>
    </button>
<button class="mode-btn" onclick="showMusicVideoForm()">
        <span class="mode-icon">üéµ</span>
        <span class="mode-text">Music Video</span>
    </button>
</div>
        </div>

        <!-- Mobile Dropdown Mode Selector -->
            <select class="mobile-mode-dropdown" id="mobileModeDrop" onchange="switchMode(this.value)">
    <option value="general">üé¨ General Prompt</option>
    <option value="multichar">üé≠ Prompt Master</option>
    <option value="image">üé® Image Gen ‚ú®NEW!</option>
    <option value="chat">üí¨ AI Chat ‚ú®NEW!</option>
    <option value="character">üßô Character Creator</option>
    <option value="library">üóÇÔ∏è My Characters</option>
</select>

            <!-- Mobile Info Toggle -->
            <button class="mobile-info-toggle" onclick="toggleMobileInfo()">
                ‚ÑπÔ∏è ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•/‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ ‚ñº
            </button>
            <div class="mobile-info-content" id="mobileInfoContent">
                <!-- Content ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÉ‡∏™‡πà‡∏î‡πâ‡∏ß‡∏¢ JS -->
            </div>

        <!-- Main Content -->
        <div class="main-content">

            <!-- Info Panel - General Mode -->
<div class="info-panel" id="generalInfo">
    <div class="info-section">
        <h3>‚ú® ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà</h3>
        <div class="tip-card">
            <h4>üé¨ ‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡πÄ‡∏ó‡∏û</h4>
            <p>‡πÅ‡∏Ñ‡πà‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏ä‡πà‡∏ô "‡∏Ç‡∏≠‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏ó‡∏û‡πÜ" AI ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á prompt ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
        </div>
        <div class="tip-card">
            <h4>üí° ‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡πá‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ</h4>
            <p>‡∏°‡∏µ‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡πÅ‡∏Ñ‡πà‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß AI ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏õ‡∏£</p>
        </div>
        <div class="tip-card">
            <h4>üñºÔ∏è ‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡πÄ‡∏õ‡πá‡∏ô Reference</h4>
            <p>‡∏´‡∏≤‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏°‡∏≤‡πÅ‡∏ô‡∏ö AI ‡∏à‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á prompt ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÜ ‡∏Å‡∏±‡∏ô</p>
        </div>
        <div class="tip-card">
            <h4>üéØ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</h4>
            <p>‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≥‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏¢‡∏≤‡∏Å‡πÜ ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏á‡πà‡∏≤‡∏¢‡πÜ AI ‡∏à‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á</p>
        </div>
    </div>

    <div class="info-section">
        <h3>‚ö° ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏û‡∏¥‡πÄ‡∏®‡∏©</h3>
        <div class="tip-card">
            <p><strong>‡∏®‡∏±‡∏û‡∏ó‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©:</strong> ‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏ï‡∏≤‡∏°‡∏Å‡∏è‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå , ‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û , ‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ô‡πà‡∏≤‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏ó‡∏û , ‡∏û‡∏π‡∏î‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏π‡∏ó‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏ô‡∏à‡∏£‡∏¥‡∏á</p>
        </div>
        <div class="tip-card">
            <p><strong>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:</strong> ‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏ï‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏õ ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏â‡∏≤‡∏Å‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ AI ‡∏à‡∏î‡∏à‡∏≥‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≠‡∏â‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏î‡∏µ</p>
        </div>
    </div>
</div>

<!-- Info Panel - Character Mode -->
<div class="info-panel" id="characterInfo" style="display: none;">
    <div class="info-section">
        <h3>üë§ Character Creator</h3>
        <div class="tip-card">
            <h4>‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</h4>
            <p>AI ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á Character Profile ‡∏ó‡∏µ‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Veo 3 ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
        </div>
        <div class="tip-card">
            <h4>üéØ ‡∏ö‡∏≠‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢</h4>
            <p>‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÅ‡∏Ñ‡πà‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô AI ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏ï‡∏¥‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏´‡πâ</p>
        </div>
        <div class="tip-card">
            <h4>üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡∏ã‡πâ‡∏≥</h4>
            <p>‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Character Profile ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô Library ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠</p>
        </div>
    </div>

    <div class="info-section">
        <h3>üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</h3>
        <div class="tip-card">
            <p>‚Ä¢ "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏±‡∏Å‡∏™‡∏∑‡∏ö‡∏´‡∏ç‡∏¥‡∏á‡∏™‡πÑ‡∏ï‡∏•‡πå cyberpunk"</p>
            <p>‚Ä¢ "‡∏ó‡∏´‡∏≤‡∏£‡∏≠‡∏ß‡∏Å‡∏≤‡∏®‡∏à‡∏≤‡∏Å‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"</p>
            <p>‚Ä¢ "‡πÄ‡∏î‡πá‡∏Å‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏®‡∏©"</p>
            <p>‚Ä¢ "‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å"</p>
        </div>
    </div>
</div>

<!-- Info Panel - Multichar Mode -->
<div class="info-panel" id="multicharInfo" style="display: none;">
    <div class="info-section">
        <h3>üé≠ Prompt Master</h3>
        <div class="tip-card">
            <h4>‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</h4>
            <p>AI ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á cinematic prompt ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏õ‡∏£</p>
        </div>
        <div class="tip-card">
            <h4>‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏â‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h4>
            <p>AI ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏â‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ 2-5 ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏ó‡∏û‡∏π‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß</p>
        </div>
        <div class="tip-card">
            <h4>üéØ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ</h4>
            <p>1. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt master" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏ü‡∏≠‡∏£‡πå‡∏°<br>
               2. ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢‡∏â‡∏≤‡∏Å‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á</p>
        </div>
        <div class="tip-card">
            <h4>üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</h4>
            <p>‚Ä¢ "‡∏â‡∏≤‡∏Å‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå 2 ‡∏Ñ‡∏ô ‡∏ó‡∏µ‡πà‡∏ï‡∏•‡∏≤‡∏î"<br>
               ‚Ä¢ "3 ‡∏Ñ‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü"<br>
               ‚Ä¢ "‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß 4 ‡∏Ñ‡∏ô‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô"</p>
        </div>
    </div>
    
    <!-- Quick Scene Builder Button -->
    <button class="scene-builder-btn" onclick="showSceneBuilder()">
        üé¨ ‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt Master
    </button>
</div>

<!-- Info Panel - Image Mode -->
<div class="info-panel" id="imageInfo" style="display: none;">
    <div class="info-section">
        <h3>üé® Image Generator</h3>
        <div class="tip-card">
            <h4>‚ú® ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Model</h4>
            <div class="model-selector">
                <!-- Model 1: Express Mode -->
                <label class="model-option">
                    <input type="radio" name="imageModel" value="flux-schnell" checked>
                    <div class="model-card">
                        <div class="model-name">Express Mode</div>
                        <div class="model-price">üí∞ 0.15 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</div>
                        <div class="model-desc">‚ö° ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏£‡πá‡∏ß 5-8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
                    </div>
                </label>

                <!-- Model 2: Premium Mode -->
                <label class="model-option">
                    <input type="radio" name="imageModel" value="flux-dev">
                    <div class="model-card">
                        <div class="model-name">Premium Mode</div>
                        <div class="model-price">üí∞ 0.20 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</div>
                        <div class="model-desc">‚ú® ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏î‡∏µ</div>
                    </div>
                </label>
            </div>
        </div>
        
        <div class="tip-card">
            <h4>üìê Aspect Ratio</h4>
            <div class="ratio-selector">
                <button class="ratio-btn active" data-ratio="1:1">1:1</button>
                <button class="ratio-btn" data-ratio="16:9">16:9</button>
                <button class="ratio-btn" data-ratio="9:16">9:16</button>
                <button class="ratio-btn" data-ratio="4:3">4:3</button>
                <button class="ratio-btn" data-ratio="3:4">3:4</button>
            </div>
        </div>
        
        <div class="tip-card">
            <h4>üí° Tips</h4>
            <p>‚Ä¢ ‡∏û‡∏¥‡∏°‡∏û‡πå prompt ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ</p>
            <p>‚Ä¢ ‡∏¢‡∏¥‡πà‡∏á‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏†‡∏≤‡∏û‡∏¢‡∏¥‡πà‡∏á‡∏ï‡∏£‡∏á‡πÉ‡∏à</p>
            <p>‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á "realistic", "detailed", "8k"</p>
            <p>‚Ä¢ ‡∏Å‡∏î "‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Prompt" ‡πÄ‡∏û‡∏∑‡πà‡∏≠ prompt ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô</p>
        </div>
    </div>
</div>

<!-- Info Panel - Chat Mode -->
<div class="info-panel" id="chatInfo" style="display: none;">
    <div class="info-section">
        <h3>üí¨ AI Chat Assistant</h3>
        
        <!-- ‡πÅ‡∏™‡∏î‡∏á Model Info ‡πÅ‡∏ó‡∏ô Dropdown -->
        <div class="tip-card">
            <h4>ü§ñ Model ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h4>
            <div id="currentModelInfo" style="padding: 12px; background: rgba(147, 51, 234, 0.1); border-radius: 8px; font-size: 13px;">
                <!-- ‡∏à‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏î‡πâ‡∏ß‡∏¢ JS -->
                <div id="modelStatusDisplay">
                    <strong>‚ö° GPT-4o-mini</strong>
                </div>
            </div>
        </div>
        
        <div class="tip-card">
            <h4>üí° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ</h4>
            <p>‚Ä¢ ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏π‡∏î‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ</p>
            <p>‚Ä¢ ‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</p>
            <p>‚Ä¢ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p>
            <p>‚Ä¢ ‡∏´‡∏±‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ï‡∏≤‡∏° token ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á</p>
        </div>

        <div class="tip-card">
            <h4>üéØ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö</h4>
            <p>‚Ä¢ ‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</p>
            <p>‚Ä¢ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</p>
            <p>‚Ä¢ ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î</p>
            <p>‚Ä¢ ‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤</p>
        </div>
    </div>
</div>

<!-- Character Library Panel -->
<div class="character-library" id="characterLibrary">
    <div class="library-header">
        <button onclick="backToChat()" style="background:none;border:none;color:var(--primary);font-size:18px;padding:10px 0;cursor:pointer;display:none;" class="mobile-back-btn">
            ‚Üê ‡∏Å‡∏•‡∏±‡∏ö
        </button>
        <h3>üìö My Character Library</h3>
        <button class="mode-btn" onclick="switchMode('character')" style="background: var(--primary); color: white;">
            + ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà
        </button>
    </div>
    <div class="character-list" id="characterList">
        <div class="empty-library">
            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ</p>
            <p style="margin-top: 8px;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Character Creator</p>
        </div>
    </div>
</div>

            <!-- Chat Panel -->
            <div class="chat-panel">
                <div class="chat-messages" id="chatMessages">
                    <div class="message assistant">
                        <div class="message-avatar">ü§ñ</div>
                        <div class="message-content" id="welcomeMessage">
                            ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠ Prompt Generator ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏ó‡∏ûüé¨<br><br>
                            ‡∏ö‡∏≠‡∏Å‡∏ú‡∏°‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢<br><br>
                            üí° <strong>Tip:</strong> ‡∏¢‡∏¥‡πà‡∏á‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏¢‡∏¥‡πà‡∏á‡∏î‡∏µ!
                        </div>
                    </div>
                </div>

                <div class="chat-input-area">
                    <!-- Mode Notice -->
                    <div class="mode-notice" id="modeNotice"></div>

                    <div class="upload-section" id="uploadSection">
    <button class="upload-btn" onclick="showImageUrlDialog()">
        üîó ‡πÄ‡∏û‡∏¥‡πà‡∏° URL ‡∏£‡∏π‡∏õ
    </button>
    <button class="voice-btn" id="voiceButton" onclick="toggleVoiceInput()">
        üé§ ‡∏û‡∏π‡∏î‡πÄ‡∏•‡∏¢
    </button>
    <!-- Template Button Section -->
    <div class="template-button-inline" id="templateButtonSection" style="display: none;">
        <button class="template-form-btn-orange" onclick="showTemplateForm()">
            üìã ‡πÉ‡∏ä‡πâ Template Form
        </button>
    </div>
    
    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° Character Template Button Section ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
    <div class="character-template-button-inline" id="characterTemplateButtonSection" style="display: none;">
        <button class="character-template-btn-inline" onclick="showCharacterTemplate()">
            üìã ‡πÉ‡∏ä‡πâ‡∏ü‡∏≠‡∏£‡πå‡∏° Character Template
        </button>
    </div>
    
    <span class="upload-tip" id="uploadTip">
        üí° ‡∏ù‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 
        <a href="https://postimages.org" target="_blank">postimages.org</a>, 
        <a href="https://uppic.cc" target="_blank">uppic.cc</a> 
        ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏≠‡∏≤‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á
    </span>
    <div id="imagePreview" class="image-preview"></div>
</div>

                    <!-- Enhance Section ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Image Mode -->
<div class="enhance-section" id="enhanceSection" style="display: none;">
    <button class="enhance-btn" onclick="enhancePrompt()" id="enhanceBtn">
        ‚ú® ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Prompt
    </button>
    <button class="voice-btn" onclick="toggleVoiceInput()">
        üé§ ‡∏û‡∏π‡∏î‡πÄ‡∏•‡∏¢
    </button>
    <div class="enhance-status" id="enhanceStatus" style="display: none;">
        <div class="loading-spinner" style="width: 20px; height: 20px;"></div>
        <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á prompt...</span>
    </div>
</div>

                    <!-- Mobile Quick Actions -->
    <div class="voice-status" id="voiceStatus" style="display: none;">
    <div class="voice-animation">
        <span></span><span></span><span></span>
    </div>
    <div class="voice-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏±‡∏á... ‡∏û‡∏π‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ</div>
    <button class="stop-voice-btn" onclick="stopVoiceInput()">
        ‚èπÔ∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏±‡∏á
    </button>
</div>
<!-- Voice Status for Image Mode -->
<div class="voice-status" id="voiceStatusImage" style="display: none;">
    <div class="voice-animation">
        <span></span><span></span><span></span>
    </div>
    <div class="voice-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏±‡∏á... ‡∏û‡∏π‡∏î prompt ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ üé®</div>
    <button class="stop-voice-btn" onclick="stopVoiceInput()">
        ‚èπÔ∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏±‡∏á
    </button>
</div>

<!-- Voice Status for Chat Mode -->
<div class="voice-status" id="voiceStatusChat" style="display: none;">
    <div class="voice-animation">
        <span></span><span></span><span></span>
    </div>
    <div class="voice-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏±‡∏á... ‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ üí¨</div>
    <button class="stop-voice-btn" onclick="stopVoiceInput()">
        ‚èπÔ∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏±‡∏á
    </button>
</div>

 <!-- Quick Edit Bar -->
    <div class="quick-edit-bar" id="quickEditBar" style="display: none;">
        <button onclick="openFullEditor()">üìù Editor ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠</button>
        <button onclick="clearPlaceholders()">üßπ ‡∏•‡∏ö [‡∏£‡∏∞‡∏ö‡∏∏...]</button>
        <button onclick="formatPrompt()">‚ú® ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</button>
    </div>

                    <div class="input-wrapper">
    <textarea 
        id="messageInput"
        class="message-input"
        placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÄ‡∏ä‡πà‡∏ô '‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏¢‡∏≤‡∏°‡∏Ñ‡πà‡∏≥‡∏Ñ‡∏∑‡∏ô ‡πÅ‡∏™‡∏á‡∏ô‡∏µ‡∏≠‡∏≠‡∏ô‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏™‡∏ß ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏â‡∏≤‡∏Å Blade Runner'..."
        rows="3"
    ></textarea>
    <button id="sendButton" class="send-btn">
        ‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt ‚ú®
    </button>
</div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">
                <div class="status-dot" id="statusDot"></div>
                <span id="statusText">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
            </div>
            <div class="status-item" id="apiStatus">
                API Connected
            </div>
        <div class="status-item">
        <button onclick="resetCurrentThread()" style="
            background: #f59e0b;
            color: white;
            border: none;
            padding: 4px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Kanit', sans-serif;
            transition: all 0.2s ease;
        " onmouseover="this.style.background='#dc2626'" 
           onmouseout="this.style.background='#f59e0b'">
            üîÑ Reset
        </button>

        <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° Clear Chat (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ chat mode) -->
    <div class="status-item" id="clearChatBtn" style="display: none;">
        <button onclick="clearChatHistory()" style="
            background: #6366f1;
            color: white;
            border: none;
            padding: 4px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Kanit', sans-serif;
            transition: all 0.2s ease;
        " onmouseover="this.style.background='#4f46e5'" 
           onmouseout="this.style.background='#6366f1'">
            üóëÔ∏è Clear Chat
        </button>
    </div>
    
    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° Clear History ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö general ‡πÅ‡∏•‡∏∞ multichar modes -->
    <div class="status-item" id="clearHistoryBtn" style="display: none;">
        <button onclick="clearCurrentModeHistory()" style="
            background: #9333ea;
            color: white;
            border: none;
            padding: 4px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Kanit', sans-serif;
            transition: all 0.2s ease;
        " onmouseover="this.style.background='#7c3aed'" 
           onmouseout="this.style.background='#9333ea'">
            üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
        </button>
    </div>
</div>

    <!-- Image URL Dialog -->
    <div id="imageUrlDialog" class="url-dialog" style="display: none;">
        <div class="url-dialog-content">
            <h3>‡πÄ‡∏û‡∏¥‡πà‡∏° URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h3>
            <p class="dialog-tip">
                üìå ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 
                <a href="https://postimages.org" target="_blank">postimages.org</a>
                <br>
                <small style="color: var(--text-secondary);">
                    ‚ö†Ô∏è ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Direct link" ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà "Hotlink for websites"
                </small>
            </p>
            <input type="url" 
                   id="imageUrlInput" 
                   placeholder="https://example.com/image.jpg"
                   class="url-input">
            <div class="dialog-buttons">
                <button onclick="addImageUrl()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ</button>
                <button onclick="closeImageUrlDialog()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- Save Character Dialog -->
    <div id="saveCharacterDialog" class="save-dialog" style="display: none;">
        <div class="save-dialog-content">
            <h3>üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Character Profile</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">
                ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
            </p>
            <input type="text" 
                   id="characterNameInput" 
                   placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ‡πÄ‡∏ä‡πà‡∏ô '‡∏ô‡∏±‡∏Å‡∏™‡∏∑‡∏ö Maya' ‡∏´‡∏£‡∏∑‡∏≠ '‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå X-7'"
                   class="character-name-input">
            <div class="dialog-buttons">
                <button onclick="saveCharacter()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                <button onclick="closeSaveDialog()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>

    <!-- Templates Modal -->
<div id="templatesModal" class="templates-modal" style="display: none;">
    <div class="templates-content">
        <div class="templates-header">
            <h2><span>üìö</span> Prompt Templates</h2>
            <button class="close-btn" onclick="closeTemplates()">‚úï</button>
        </div>
        
        <div class="template-categories">
            <button class="category-btn active" onclick="filterTemplates('all')">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
            <button class="category-btn" onclick="filterTemplates('action')">‡πÅ‡∏≠‡πá‡∏Ñ‡∏ä‡∏±‡πà‡∏ô</button>
            <button class="category-btn" onclick="filterTemplates('cinematic')">‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå</button>
            <button class="category-btn" onclick="filterTemplates('nature')">‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥</button>
            <button class="category-btn" onclick="filterTemplates('emotion')">‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå</button>
        </div>
        
        <div class="templates-grid" id="templatesGrid">
            <!-- Templates will be inserted here -->
        </div>
    </div>
</div>

<!-- Favorites Modal -->
<div id="favoritesModal" class="templates-modal" style="display: none;">
    <div class="templates-content">
        <div class="templates-header">
            <h2><span>‚≠ê</span> My Favorites</h2>
            <button class="close-btn" onclick="closeFavorites()">‚úï</button>
        </div>
        
        <div class="favorites-grid" id="favoritesGrid">
            <!-- Favorites will be inserted here -->
        </div>
    </div>
</div>
<!-- Announcement Popup -->
<div id="announcementPopup" class="announcement-popup" style="display: none;">
    <div class="announcement-content">
        <button class="announcement-close" onclick="closeAnnouncement(false)">‚úï</button>
        
        <div class="announcement-header">
            <span class="announcement-icon">üéâ</span>
            <h2>‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡∏°‡πà!</h2>
            <p style="margin: 8px 0 0 0; font-size: 14px; color: var(--text-secondary);">‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ</p>
        </div>
        
<div class="announcement-body">
    <!-- ‡∏Ç‡πà‡∏≤‡∏ß‡∏ó‡∏µ‡πà 1: Prompt Master ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß -->
    <div class="announcement-item" style="border: 2px solid #9333ea; background: linear-gradient(135deg, rgba(147, 51, 234, 0.05) 0%, rgba(236, 72, 153, 0.05) 100%);">
        <span class="announcement-badge new" style="background: linear-gradient(135deg, #9333ea 0%, #ec4899 100%);">‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡∏°‡πà! üéâ</span>
        <h3>üé≠ Prompt Master ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!</h3>
        <p style="margin-bottom: 12px;">‡πÄ‡∏£‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì</p>
        <ul style="line-height: 1.8;">
            <li>üíæ <strong>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</strong> - ‡∏ó‡∏∏‡∏Å prompt ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ</li>
            <li>üîç <strong>‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏î‡∏π‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ</strong> - ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏Å‡πá‡∏¢‡∏±‡∏á‡πÄ‡∏à‡∏≠ prompt ‡πÄ‡∏î‡∏¥‡∏°</li>
            <li>üìã <strong>Copy ‡∏á‡πà‡∏≤‡∏¢</strong> - ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</li>
            <li>üöÄ <strong>‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏•‡∏±‡∏ß‡∏´‡∏≤‡∏¢</strong> - ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏Å‡πá‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢</li>
        </ul>
        <div style="background: rgba(147, 51, 234, 0.1); padding: 12px; border-radius: 8px; margin-top: 12px;">
            <p style="margin: 0; font-size: 14px; text-align: center;">
                ‚ú® <strong>‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏°‡∏≤‡∏Å!</strong> ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö <strong style="color: #9333ea;">"Prompt Master"</strong>
            </p>
        </div>
    </div>

    <!-- ‡∏Ç‡πà‡∏≤‡∏ß‡∏ó‡∏µ‡πà 2: ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Support -->
    <div class="announcement-item" style="border: 2px solid #10b981; background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(34, 197, 94, 0.05) 100%);">
        <span class="announcement-badge new" style="background: #10b981;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà! ‚ú®</span>
        <h3>üí¨ ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏° Support ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!</h3>
        <p style="margin-bottom: 12px;">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô ‡πÄ‡∏£‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì</p>
        <ul style="line-height: 1.8;">
            <li>üÜò <strong>‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô?</strong> - ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
            <li>üí° <strong>‡∏°‡∏µ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥?</strong> - ‡πÄ‡∏£‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô</li>
            <li>‚ùì <strong>‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ?</strong> - ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠</li>
            <li>‚ö° <strong>‡∏ï‡∏≠‡∏ö‡πÄ‡∏£‡πá‡∏ß</strong> - ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</li>
        </ul>
        <div style="background: rgba(16, 185, 129, 0.1); padding: 12px; border-radius: 8px; margin-top: 12px;">
            <p style="margin: 0; font-size: 14px; text-align: center;">
                üì± <strong>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏á‡πà‡∏≤‡∏¢!</strong> ‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏õ‡∏∏‡πà‡∏° <strong style="color: #10b981;">"üí¨ Support"</strong> ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤
            </p>
        </div>
    </div>
</div>
        
        <div class="announcement-footer">
            <label class="dont-show-label">
                <input type="checkbox" id="dontShowFor3Hours">
                <span>‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡∏Å 3 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</span>
            </label>
            <button class="announcement-ok-btn" onclick="closeAnnouncement(true)">
                ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß
            </button>
        </div>
    </div>
</div>
</div>

<!-- Floating Announcement Button -->
<button class="fab-announcement" onclick="showAnnouncement()" title="‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó">
    <span class="fab-icon">üì¢</span>
    <span class="fab-text">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</span>
</button>

<!-- Floating Course Button -->
<button class="fab-course" onclick="showCourse()" title="‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô Veo 3">
    <span class="fab-icon">üéì</span>
    <span class="fab-text">‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</span>
</button>

<!-- FAB Templates & Favorites - ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≠‡∏£‡πå‡∏™ -->
<button class="fab-tools" onclick="toggleToolsMenu()" title="Templates & Favorites">
    <span class="fab-icon">üõ†Ô∏è</span>
    <span class="fab-text">Tools</span>
</button>

<!-- Mini Menu ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tools -->
<div class="fab-tools-menu" id="fabToolsMenu" style="display: none;">
    <button class="mini-fab" onclick="showTemplates()" title="Templates">
        <span>üìö</span>
    </button>
    <button class="mini-fab" onclick="showFavorites()" title="Favorites">
        <span>‚≠ê</span>
    </button>
</div>

<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô </body> ‡πÉ‡∏ô index.html -->
<!-- Course Modal -->
<div id="courseModal" class="course-modal" style="display: none;">
    <div class="course-modal-content">
        <button class="close-btn" onclick="closeCourse()">‚úï</button>
        
        <div class="course-header">
            <span class="course-icon">üéì</span>
            <h2>‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏•‡∏¥‡∏õ‡∏î‡πâ‡∏ß‡∏¢ Ai</h2>
            <div class="course-tagline">‡∏°‡∏µ 3 ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ï‡∏•‡∏≠‡∏î</div>
        </div>
        
        <div class="course-body">
            <!-- Group Course NEW! -->
            <div class="course-package group">
                <div class="package-badge new-course">‡πÉ‡∏´‡∏°‡πà! ‡∏Ñ‡∏∏‡πâ‡∏°‡∏™‡∏∏‡∏î</div>
                <div class="package-icon">üë•</div>
                <h3>‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î</h3>
                <div class="price-container">
                    <span class="currency">üí∞</span>
                    <span class="price-number">499</span>
                </div>
                <ul class="feature-list">
                    <li><span class="icon">üéì</span> ‡∏™‡∏≠‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î ‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à</li>
                    <li><span class="icon">üé•</span> ‡∏ß‡∏µ‡∏î‡∏µ‡πÇ‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á ‡∏î‡∏π‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡∏ä‡∏µ‡∏û</li>
                    <li><span class="icon">üÜï</span> ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÜ ‡πÉ‡∏´‡πâ‡∏ï‡∏•‡∏≠‡∏î</li>
                    <li><span class="icon">üí¨</span> ‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏° ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏Å‡∏±‡∏ô</li>
                    <li><span class="icon">üìö</span> ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô</li>
                    <li><span class="icon">üë´</span> ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå</li>
                    <li><span class="icon">‚ú®</span> ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î ‡πÅ‡∏ï‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏ï‡πá‡∏°‡πÜ</li>
                </ul>
                <button class="contact-course-btn" onclick="window.open('https://m.me/719837687869400', '_blank')">
                    üí¨ ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                </button>
            </div>
            <!-- Online Course -->
            <div class="course-package online">
                <div class="package-badge">‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°!</div>
                <div class="package-icon">üì±</div>
                <h3>‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå 1-1</h3>
                <div class="price-container">
                    <span class="currency">üí∞</span>
<span class="price-number">999</span>
                </div>
                <ul class="feature-list">
                    <li><span class="icon">üïê</span> ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 3-5 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à)</li>
                    <li><span class="icon">üë®‚Äçüè´</span> ‡∏™‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö 1 ‡∏ï‡πà‡∏≠ 1 ‡∏û‡∏≤‡∏ó‡∏≥‡∏à‡∏ô‡∏ó‡∏≥‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ</li>
                    <li><span class="icon">üíª</span> ‡∏ú‡πà‡∏≤‡∏ô Line Video Call ‡∏´‡∏£‡∏∑‡∏≠ Zoom</li>
                    <li><span class="icon">üìß</span> ‡∏™‡∏≠‡∏ô‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡∏à‡∏ô‡πÉ‡∏ä‡πâ Veo 3 ‡∏Ñ‡∏•‡πà‡∏≠‡∏á</li>
                    <li><span class="icon">üé•</span> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ (‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏≠‡∏á)</li>
                    <li><span class="icon">üí¨</span> Add ‡πÄ‡∏ü‡∏™‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß ‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î</li>
                    <li><span class="icon">üèÜ</span> ‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏¢‡∏≠‡∏∞‡∏Å‡πá‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ ‡∏™‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</li>
                </ul>
                <button class="contact-course-btn" onclick="window.open('https://m.me/719837687869400', '_blank')">
                    üí¨ ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                </button>
            </div>
            
            <!-- Onsite Course -->
            <div class="course-package onsite">
                <div class="package-icon">üè†</div>
                <h3>‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ô‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</h3>
                <div class="price-container">
                    <span class="currency">üí∞</span>
                    <span class="price-number">2,999</span>
                </div>
                <ul class="feature-list">
                    <li><span class="icon">‚ú®</span> ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</li>
                    <li><span class="icon">üë•</span> ‡∏û‡∏ö‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á ‡∏™‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà</li>
                    <li><span class="icon">üìç</span> ‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</li>
                    <li><span class="icon">üöó</span> ‡∏ô‡∏≠‡∏Å‡πÄ‡∏Ç‡∏ï 300 ‡∏Å‡∏°. ‡∏ö‡∏ß‡∏Å‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°</li>
                    <li><span class="icon">üè¢</span> ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏® (‡∏™‡∏∏‡∏û‡∏£‡∏£‡∏ì‡∏ö‡∏∏‡∏£‡∏µ)</li>
                    <li><span class="icon">üíª</span> ‡∏¢‡∏Å‡πÇ‡∏ô‡πâ‡∏ï‡∏ö‡∏∏‡πä‡∏Ñ‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</li>
                    <li><span class="icon">üé•</span> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ</li>
                </ul>
                <button class="contact-course-btn" onclick="window.open('https://m.me/719837687869400', '_blank')">
                    üí¨ ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                </button>
            </div>
        </div>
        
        <!-- Calendar Section -->
<div class="calendar-section">
    <h3>üìÖ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏á ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô 2025</h3>
    <div class="calendar-grid" id="courseCalendar">
        <!-- Calendar will be generated by JS -->
    </div>
    <div class="calendar-legend">
        <span><div class="dot available"></div> ‡∏ß‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏á</span>
        <span><div class="dot busy"></div> ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á</span>
    </div>
</div>
        
        <div class="course-footer">
            <p class="contact-info">
                üì≤ ‡∏™‡∏ô‡πÉ‡∏à‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: <a href="https://lin.ee/KWn4Otg" target="_blank" class="contact-link">Line: @social24</a>
            </p>
        </div>
    </div>
</div>
<!-- Full Editor Modal -->
<div id="editorModal" class="editor-modal" style="display: none;">
    <div class="editor-content">
        <div class="editor-header">
            <h3>‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Prompt ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠</h3>
            <button class="close-btn" onclick="closeEditor()">‚úï</button>
        </div>
        
        <textarea id="fullEditor" class="full-editor"></textarea>
        
        <div class="editor-actions">
            <button onclick="applyEditorChanges()" class="apply-btn">
                ‚úÖ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
            </button>
            <button onclick="closeEditor()" class="cancel-btn">
                ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
            </button>
        </div>
    </div>
</div>
<!-- Image Modal -->
<div id="imageModal" class="image-modal" onclick="closeImageModal(event)">
    <button class="image-modal-close" onclick="closeImageModal()">&times;</button>
    <img id="modalImage" src="" alt="">
</div>
<script>
function toggleToolsMenu() {
    console.log('toggleToolsMenu called!'); // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ
    
    const menu = document.getElementById('fabToolsMenu');
    console.log('Menu element:', menu); // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ
    
    if (!menu) {
        console.error('Menu not found!');
        return;
    }
    
    const isOpen = menu.style.display === 'flex';
    console.log('Current state:', isOpen ? 'open' : 'closed'); // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ
    
    if (isOpen) {
        menu.style.display = 'none';
    } else {
        menu.style.display = 'flex';
    }
}

// Function ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö Video Analyzer
function openVideoAnalyzer() {
    window.open('https://video-downloader-production-db61.up.railway.app/', '_blank');
}

// Test ‡∏ß‡πà‡∏≤‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏´‡∏°
console.log('toggleToolsMenu loaded:', typeof toggleToolsMenu);
</script>
<!-- Music Video FAB -->
<button class="fab-music" onclick="showMusicVideoForm()" title="‡∏™‡∏£‡πâ‡∏≤‡∏á Music Video Prompt">
    <span class="fab-icon">üéµ</span>
    <span class="fab-text">Music Video</span>
</button>
<!-- Video Analyzer FAB -->
<button class="fab-video-analyzer" onclick="openVideoAnalyzer()" title="‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠">
    <span class="fab-icon">üé•</span>
</button>

<!-- Hidden file input for slip upload -->
<input type="file" id="slipFileInput" accept="image/*" style="display: none;">

<!-- Template Form Modal ‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÉ‡∏´‡∏°‡πà -->
<div id="templateFormModal" class="template-form-modal" style="display: none;" onclick="closeTemplateFormOnOutsideClick(event)">
    <div class="template-form-content">
        <button class="close-btn" onclick="closeTemplateForm()">‚úï</button>
        
        <h2 id="templateFormTitle">üìã Template Form</h2>
        
        <!-- Quick Presets -->
        <div class="quick-presets">
            <h3>‚ö° Quick Presets - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ô‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</h3>
            <div class="preset-buttons">
                <button type="button" class="preset-btn" onclick="applyPreset('interview')">
                    üé§ ‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå
                </button>
                <button type="button" class="preset-btn" onclick="applyPreset('dialogue')">
                    üí¨ ‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤
                </button>
                <button type="button" class="preset-btn" onclick="applyPreset('action')">
                    üí• ‡πÅ‡∏≠‡πá‡∏Ñ‡∏ä‡∏±‡πà‡∏ô
                </button>
                <button type="button" class="preset-btn" onclick="applyPreset('emotional')">
                    üò¢ ‡∏î‡∏£‡∏≤‡∏°‡πà‡∏≤
                </button>
                <button type="button" class="preset-btn" onclick="applyPreset('product')">
                    üì¶ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                </button>
                <button type="button" class="preset-btn" onclick="applyPreset('nature')">
                    üåø ‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥
                </button>
            </div>
        </div>
        
        <div class="template-form-body">
            <!-- Section 1: ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô -->
            <div class="form-section">
                <h4 class="form-section-title">üìΩÔ∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h4>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>üé¨ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠</label>
                        <select id="videoType" class="template-select" onchange="updateTemplatePreview()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
                            <option value="cinematic">Cinematic (‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå)</option>
                            <option value="documentary">Documentary (‡∏™‡∏≤‡∏£‡∏Ñ‡∏î‡∏µ)</option>
                            <option value="commercial">Commercial (‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤)</option>
                            <option value="musicvideo">Music Video</option>
                            <option value="action">Action (‡πÅ‡∏≠‡πá‡∏Ñ‡∏ä‡∏±‡πà‡∏ô)</option>
                            <option value="drama">Drama (‡∏î‡∏£‡∏≤‡∏°‡πà‡∏≤)</option>
                            <option value="horror">Horror (‡∏™‡∏¢‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç)</option>
                            <option value="comedy">Comedy (‡∏ï‡∏•‡∏Å)</option>
                            <option value="travel">Travel (‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß)</option>
                            <option value="nature">Nature (‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>‚è±Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß</label>
                        <select id="duration" class="template-select" onchange="updateTemplatePreview()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß --</option>
                            <option value="5-6 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ">5-6 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                            <option value="7-8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ">7-8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>
                        üìç ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà/‡∏â‡∏≤‡∏Å
                        <button type="button" class="mic-btn" onclick="toggleFieldVoice('location')" data-field="location">
                            üé§
                        </button>
                    </label>
                    <input type="text" id="location" class="template-input" 
                           placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü, ‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏®, ‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞, ‡∏£‡∏¥‡∏°‡∏ó‡∏∞‡πÄ‡∏•">
                </div>
            </div>
            
            <!-- Section 2: Camera & Visual -->
            <div class="form-section">
                <h4 class="form-section-title">üì∑ ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏û</h4>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>üì∑ ‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á</label>
                        <select id="cameraAngle" class="template-select" onchange="updateTemplatePreview()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á --</option>
                            <option value="wide">Wide Shot (‡∏°‡∏∏‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á)</option>
                            <option value="medium">Medium Shot (‡∏°‡∏∏‡∏°‡∏Å‡∏•‡∏≤‡∏á)</option>
                            <option value="closeup">Close-up (‡∏°‡∏∏‡∏°‡πÉ‡∏Å‡∏•‡πâ)</option>
                            <option value="extreme-closeup">Extreme Close-up</option>
                            <option value="aerial">Aerial/Drone (‡∏°‡∏∏‡∏°‡∏™‡∏π‡∏á)</option>
                            <option value="low-angle">Low Angle (‡∏°‡∏∏‡∏°‡∏ï‡πà‡∏≥)</option>
                            <option value="dutch">Dutch Angle (‡∏°‡∏∏‡∏°‡πÄ‡∏≠‡∏µ‡∏¢‡∏á)</option>
                            <option value="pov">POV (‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏µ‡πà 1)</option>
                            <option value="tracking">Tracking Shot</option>
                            <option value="handheld">Handheld (‡∏ñ‡∏∑‡∏≠‡∏Å‡∏•‡πâ‡∏≠‡∏á)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>üé¨ ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á</label>
                        <select id="cameraMovement" class="template-select" onchange="updateTemplatePreview()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á --</option>
                            <option value="static">Static (‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ô‡∏¥‡πà‡∏á)</option>
                            <option value="pan">Pan (‡∏´‡∏°‡∏∏‡∏ô‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤)</option>
                            <option value="tilt">Tilt (‡∏´‡∏°‡∏∏‡∏ô‡∏ö‡∏ô-‡∏•‡πà‡∏≤‡∏á)</option>
                            <option value="dolly">Dolly (‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤-‡∏≠‡∏≠‡∏Å)</option>
                            <option value="tracking">Tracking (‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°)</option>
                            <option value="handheld">Handheld (‡∏ñ‡∏∑‡∏≠‡∏Å‡∏•‡πâ‡∏≠‡∏á)</option>
                            <option value="steadicam">Steadicam (‡∏ô‡∏¥‡πà‡∏°‡∏ô‡∏ß‡∏•)</option>
                            <option value="drone">Drone (‡πÇ‡∏î‡∏£‡∏ô)</option>
                            <option value="360">360 Degree</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>üåÖ ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤/‡πÅ‡∏™‡∏á</label>
                        <select id="timeOfDay" class="template-select" onchange="updateTemplatePreview()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ --</option>
                            <option value="golden-hour">Golden Hour (‡πÅ‡∏™‡∏á‡∏ó‡∏≠‡∏á)</option>
                            <option value="blue-hour">Blue Hour</option>
                            <option value="sunrise">Sunrise (‡∏û‡∏£‡∏∞‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏Ç‡∏∂‡πâ‡∏ô)</option>
                            <option value="sunset">Sunset (‡∏û‡∏£‡∏∞‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏ï‡∏Å)</option>
                            <option value="midday">Midday (‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô)</option>
                            <option value="night">Night (‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô)</option>
                            <option value="overcast">Overcast (‡∏°‡∏∑‡∏î‡∏Ñ‡∏£‡∏∂‡πâ‡∏°)</option>
                            <option value="studio">Studio Lighting</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>üé® ‡∏™‡πÑ‡∏ï‡∏•‡πå/‡πÇ‡∏ó‡∏ô‡∏™‡∏µ</label>
                        <select id="visualStyle" class="template-select" onchange="updateTemplatePreview()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡πÑ‡∏ï‡∏•‡πå --</option>
                            <option value="realistic">Realistic (‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á)</option>
                            <option value="cinematic">Cinematic (‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå)</option>
                            <option value="vintage">Vintage (‡∏¢‡πâ‡∏≠‡∏ô‡∏¢‡∏∏‡∏Ñ)</option>
                            <option value="modern">Modern (‡πÇ‡∏°‡πÄ‡∏î‡∏¥‡∏£‡πå‡∏ô)</option>
                            <option value="noir">Film Noir</option>
                            <option value="vibrant">Vibrant (‡∏™‡∏µ‡∏™‡∏î‡πÉ‡∏™)</option>
                            <option value="desaturated">Desaturated (‡∏™‡∏µ‡∏à‡∏∑‡∏î)</option>
                            <option value="warm">Warm Tones (‡πÇ‡∏ó‡∏ô‡∏≠‡∏∏‡πà‡∏ô)</option>
                            <option value="cold">Cold Tones (‡πÇ‡∏ó‡∏ô‡πÄ‡∏¢‡πá‡∏ô)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>‚ú® Special Effects</label>
                    <div class="effects-checkboxes">
                        <label class="checkbox-label">
                            <input type="checkbox" id="fx-slowmo" value="slowmo" onchange="updateTemplatePreview()">
                            <span>Slow Motion</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="fx-timelapse" value="timelapse" onchange="updateTemplatePreview()">
                            <span>Time Lapse</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="fx-blur" value="blur" onchange="updateTemplatePreview()">
                            <span>Motion Blur</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="fx-particles" value="particles" onchange="updateTemplatePreview()">
                            <span>Particles/Dust</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="fx-lens" value="lens" onchange="updateTemplatePreview()">
                            <span>Lens Flare</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="fx-bokeh" value="bokeh" onchange="updateTemplatePreview()">
                            <span>Bokeh</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- Section 3: Characters & Mood -->
            <div class="form-section">
                <h4 class="form-section-title">üë• ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå</h4>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>üé≠ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏â‡∏≤‡∏Å</label>
                        <select id="sceneType" class="template-select" onchange="updateTemplatePreview()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏â‡∏≤‡∏Å --</option>
                            <option value="dialogue">‡∏â‡∏≤‡∏Å‡∏™‡∏ô‡∏ó‡∏ô‡∏≤</option>
                            <option value="action">‡∏â‡∏≤‡∏Å‡πÅ‡∏≠‡πá‡∏Ñ‡∏ä‡∏±‡πà‡∏ô</option>
                            <option value="emotional">‡∏â‡∏≤‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå</option>
                            <option value="meeting">‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°/‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå</option>
                            <option value="party">‡∏á‡∏≤‡∏ô‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ</option>
                            <option value="dining">‡∏â‡∏≤‡∏Å‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>üòä ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å</label>
                        <select id="mood" class="template-select" onchange="updateTemplatePreview()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå --</option>
                            <option value="happy">Happy (‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç)</option>
                            <option value="sad">Sad (‡πÄ‡∏®‡∏£‡πâ‡∏≤)</option>
                            <option value="excited">Excited (‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô)</option>
                            <option value="calm">Calm (‡∏™‡∏á‡∏ö)</option>
                            <option value="tense">Tense (‡∏ï‡∏∂‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î)</option>
                            <option value="mysterious">Mysterious (‡∏•‡∏∂‡∏Å‡∏•‡∏±‡∏ö)</option>
                            <option value="romantic">Romantic (‡πÇ‡∏£‡πÅ‡∏°‡∏ô‡∏ï‡∏¥‡∏Å)</option>
                            <option value="scary">Scary (‡∏ô‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß)</option>
                            <option value="funny">Funny (‡∏ï‡∏•‡∏Å)</option>
                            <option value="dramatic">Dramatic (‡∏î‡∏£‡∏≤‡∏°‡πà‡∏≤)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>üë• ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</label>
                    <div class="character-count-select">
                        <button type="button" onclick="setTemplateCharCount(0, this)" class="char-count-btn">‡πÑ‡∏°‡πà‡∏°‡∏µ</button>
                        <button type="button" onclick="setTemplateCharCount(1, this)" class="char-count-btn">1 ‡∏Ñ‡∏ô</button>
                        <button type="button" onclick="setTemplateCharCount(2, this)" class="char-count-btn active">2 ‡∏Ñ‡∏ô</button>
                        <button type="button" onclick="setTemplateCharCount(3, this)" class="char-count-btn">3 ‡∏Ñ‡∏ô</button>
                        <button type="button" onclick="setTemplateCharCount(4, this)" class="char-count-btn">4 ‡∏Ñ‡∏ô</button>
                        <button type="button" onclick="setTemplateCharCount(5, this)" class="char-count-btn">5 ‡∏Ñ‡∏ô</button>
                    </div>
                </div>
                
                <div id="characterDescriptions" class="character-descriptions">
                    <!-- Character inputs ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
                </div>
                
                <div class="form-group">
                    <label>
                        üí¨ ‡∏ö‡∏ó‡∏û‡∏π‡∏î (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
                        <button type="button" class="mic-btn" onclick="toggleFieldVoice('dialogueText')" data-field="dialogueText">
                            üé§
                        </button>
                    </label>
                    <textarea id="dialogueText" class="template-textarea" rows="4"
                              placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:&#10;A: ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ‡∏à‡∏±‡∏á&#10;B: ‡πÉ‡∏ä‡πà‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏≥‡∏°‡∏≤‡∏Å" 
                              onchange="updateTemplatePreview()"></textarea>
                </div>
            </div>
            
            <!-- Section 4: Audio & Additional -->
            <div class="form-section">
                <h4 class="form-section-title">üîä ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h4>
                
                <div class="form-group">
                    <label>üîä ‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏î‡∏ô‡∏ï‡∏£‡∏µ</label>
                    <select id="soundType" class="template-select" onchange="updateTemplatePreview()">
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏™‡∏µ‡∏¢‡∏á --</option>
                        <option value="dialogue">Dialogue (‡∏ö‡∏ó‡∏û‡∏π‡∏î)</option>
                        <option value="music">Background Music</option>
                        <option value="ambient">Ambient Sound</option>
                        <option value="sfx">Sound Effects</option>
                        <option value="silent">Silent (‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á)</option>
                        <option value="natural">Natural Sound</option>
                        <option value="dramatic-music">Dramatic Music</option>
                        <option value="upbeat-music">Upbeat Music</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>
                        üìù ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
                        <button type="button" class="mic-btn" onclick="toggleFieldVoice('additionalDetails')" data-field="additionalDetails">
                            üé§
                        </button>
                    </label>
                    <textarea id="additionalDetails" class="template-textarea" rows="3"
                              placeholder="‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢‡∏â‡∏≤‡∏Å ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£..."
                              onchange="updateTemplatePreview()"></textarea>
                </div>
            </div>
            
            <!-- Preview Section -->
            <div class="template-preview-section" style="display: none;">
                <h3>üëÅÔ∏è Preview - ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt</h3>
                <div class="preview-box" id="templatePreview">
                    <p style="color: #666; text-align: center;">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á...</p>
                </div>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div class="template-form-actions">
            <button class="generate-template-btn" onclick="generateFromTemplate()">
                ‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt
            </button>
            <button class="reset-template-btn" onclick="resetTemplateForm()">
                üîÑ ‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
            </button>
            <button class="save-preset-btn" onclick="saveAsPreset()">
                üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Preset
            </button>
            <button class="cancel-template-btn" onclick="closeTemplateForm()">
                ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
            </button>
        </div>
    </div>
</div>

<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡πÉ‡∏ô index.html ‡∏Å‡πà‡∏≠‡∏ô closing </body> tag ‡πÄ‡∏û‡∏∑‡πà‡∏≠ debug -->
<script>
// Debug: Check if functions are loaded
window.addEventListener('load', function() {
    console.log('=== Template Functions Debug ===');
    console.log('applyPreset exists?', typeof applyPreset);
    console.log('templatePresets exists?', typeof templatePresets);
    console.log('updateTemplatePreview exists?', typeof updateTemplatePreview);
    
    // Check if elements exist
    const checkElements = [
        'templatePreview',
        'videoType', 
        'cameraAngle',
        'timeOfDay',
        'visualStyle',
        'duration'
    ];
    
    checkElements.forEach(id => {
        const elem = document.getElementById(id);
        console.log(`Element ${id}:`, elem ? 'Found ‚úì' : 'NOT FOUND ‚úó');
    });
    
    // Make functions globally available as backup
    if (typeof window.applyPreset === 'undefined' && typeof applyPreset !== 'undefined') {
        window.applyPreset = applyPreset;
        console.log('‚úÖ applyPreset function attached to window');
    }
});

// Emergency preset function
if (typeof applyPreset === 'undefined') {
    window.applyPreset = function(presetName) {
        console.log('Emergency applyPreset called for:', presetName);
        
        // Basic presets without new fields
        const basicPresets = {
            interview: {
                videoType: 'documentary',
                cameraAngle: 'medium',
                timeOfDay: 'studio',
                visualStyle: 'realistic',
                duration: '7-8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ'
            },
            action: {
                videoType: 'action',
                cameraAngle: 'handheld',
                timeOfDay: 'night',
                visualStyle: 'vibrant',
                duration: '5-6 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ'
            }
        };
        
        const preset = basicPresets[presetName];
        if (!preset) {
            alert('Preset ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô');
            return;
        }
        
        // Apply basic fields only
        Object.keys(preset).forEach(key => {
            const elem = document.getElementById(key);
            if (elem) {
                elem.value = preset[key];
                console.log(`Set ${key} to ${preset[key]}`);
            }
        });
        
        alert(`‡πÉ‡∏ä‡πâ preset "${presetName}" ‡πÅ‡∏•‡πâ‡∏ß!`);
    };
}
</script>

<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡πÉ‡∏ô index.html ‡∏Å‡πà‡∏≠‡∏ô </body> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ presets ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î -->
<script>
// Template Presets ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ fields ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
const workingTemplatePresets = {
    interview: {
        videoType: 'documentary',
        cameraAngle: 'medium',
        timeOfDay: 'studio',
        visualStyle: 'realistic',
        duration: '7-8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
        sceneType: 'meeting',
        location: '‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÜ',
        cameraMovement: 'static',
        charCount: 2
    },
    dialogue: {
        videoType: 'cinematic',
        cameraAngle: 'medium',
        timeOfDay: 'golden-hour',
        visualStyle: 'cinematic',
        duration: '5-6 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
        sceneType: 'dialogue',
        location: '‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô',
        cameraMovement: 'tracking',
        charCount: 2
    },
    action: {
        videoType: 'action',
        cameraAngle: 'handheld',
        timeOfDay: 'night',
        visualStyle: 'vibrant',
        duration: '5-6 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
        sceneType: 'action',
        location: '‡∏ï‡∏∂‡∏Å‡∏£‡πâ‡∏≤‡∏á ‡∏°‡∏∑‡∏î‡πÜ ‡∏°‡∏µ‡πÅ‡∏™‡∏á‡∏ô‡∏µ‡∏≠‡∏≠‡∏ô',
        cameraMovement: 'handheld',
        charCount: 3
    },
    emotional: {
        videoType: 'drama',
        cameraAngle: 'closeup',
        timeOfDay: 'golden-hour',
        visualStyle: 'warm',
        duration: '7-8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
        sceneType: 'emotional',
        location: '‡∏£‡∏¥‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á ‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏™‡πà‡∏≠‡∏á',
        cameraMovement: 'dolly',
        charCount: 2
    },
    product: {
        videoType: 'commercial',
        cameraAngle: 'medium',
        timeOfDay: 'studio',
        visualStyle: 'modern',
        duration: '5-6 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
        location: '‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≤‡∏ß ‡∏™‡∏ï‡∏π‡∏î‡∏¥‡πÇ‡∏≠',
        cameraMovement: 'tracking',
        charCount: 0
    },
    nature: {
        videoType: 'nature',
        cameraAngle: 'wide',
        timeOfDay: 'sunrise',
        visualStyle: 'realistic',
        duration: '7-8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
        location: '‡∏†‡∏π‡πÄ‡∏Ç‡∏≤ ‡∏ó‡∏∞‡πÄ‡∏•‡∏´‡∏°‡∏≠‡∏Å',
        cameraMovement: 'tracking',
        charCount: 0
    }
};

// Override applyPreset function
window.applyPreset = function(presetName) {
    console.log('Applying preset:', presetName);
    
    try {
        const preset = workingTemplatePresets[presetName];
        if (!preset) {
            showNotification('‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö preset ‡∏ô‡∏µ‡πâ', 'error');
            return;
        }
        
        // Apply fields ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
        const applyField = (fieldId, value) => {
            const field = document.getElementById(fieldId);
            if (field && value !== undefined) {
                field.value = value;
                console.log(`‚úì Set ${fieldId} = ${value}`);
            } else if (!field && value !== undefined) {
                console.log(`‚úó Field ${fieldId} not found`);
            }
        };
        
        // Apply all fields
        applyField('videoType', preset.videoType);
        applyField('cameraAngle', preset.cameraAngle);
        applyField('timeOfDay', preset.timeOfDay);
        applyField('visualStyle', preset.visualStyle);
        applyField('duration', preset.duration);
        applyField('sceneType', preset.sceneType);
        applyField('location', preset.location);
        applyField('cameraMovement', preset.cameraMovement);
        
        // Apply fields ‡πÉ‡∏´‡∏°‡πà (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
        applyField('mood', preset.mood);
        applyField('soundType', preset.soundType);
        
        // Set character count
        if (preset.charCount !== undefined) {
            // ‡∏´‡∏≤‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
            const buttons = document.querySelectorAll('.char-count-btn');
            buttons.forEach(btn => {
                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
                const btnText = btn.textContent;
                if ((preset.charCount === 0 && btnText.includes('‡πÑ‡∏°‡πà‡∏°‡∏µ')) ||
                    (preset.charCount > 0 && btnText.includes(preset.charCount + ' ‡∏Ñ‡∏ô'))) {
                    // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô setTemplateCharCount
                    if (typeof setTemplateCharCount === 'function') {
                        setTemplateCharCount(preset.charCount, btn);
                    } else {
                        // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡πÉ‡∏´‡πâ click ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ó‡∏ô
                        btn.click();
                    }
                    console.log(`‚úì Set character count = ${preset.charCount}`);
                }
            });
        }
        
        // Update preview ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
        if (typeof updateTemplatePreview === 'function') {
            updateTemplatePreview();
        } else {
            // Simple preview update
            const preview = document.getElementById('templatePreview');
            if (preview) {
                let previewText = '<strong>Preset Applied:</strong> ' + presetName + '<br><br>';
                if (preset.videoType) previewText += `üé¨ ${preset.videoType}<br>`;
                if (preset.location) previewText += `üìç ${preset.location}<br>`;
                if (preset.charCount !== undefined) previewText += `üë• ${preset.charCount} ‡∏Ñ‡∏ô<br>`;
                preview.innerHTML = previewText;
            }
        }
        
        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
        if (typeof showNotification === 'function') {
            showNotification(`‚úÖ ‡πÉ‡∏ä‡πâ preset "${presetName}" ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!`, 'success');
        } else {
            // Fallback notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #10b981;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                font-family: 'Kanit', sans-serif;
                z-index: 9999;
            `;
            notification.textContent = `‚úÖ ‡πÉ‡∏ä‡πâ preset "${presetName}" ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!`;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }
        
    } catch (error) {
        console.error('Error applying preset:', error);
        alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message);
    }
};

// Test function
window.testPresets = function() {
    console.log('Available presets:', Object.keys(workingTemplatePresets));
    console.log('Testing applyPreset function...');
    
    // List all form fields
    const fields = ['videoType', 'cameraAngle', 'timeOfDay', 'visualStyle', 
                   'duration', 'sceneType', 'location', 'cameraMovement',
                   'mood', 'soundType'];
    
    console.log('Form fields status:');
    fields.forEach(id => {
        const elem = document.getElementById(id);
        console.log(`- ${id}: ${elem ? '‚úì Found' : '‚úó Not found'}`);
    });
};

console.log('‚úÖ Preset system loaded! Use testPresets() to check status.');
</script>

<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡πÉ‡∏ô index.html ‡∏Å‡πà‡∏≠‡∏ô </body> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ input ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô -->
<script>
// Fix Template Form Event Listeners
function initTemplateFormListeners() {
    console.log('Initializing Template Form Listeners...');
    
    // 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° event listeners ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å select
    const selectElements = [
        'videoType', 'cameraAngle', 'timeOfDay', 'visualStyle',
        'duration', 'sceneType', 'mood', 'soundType', 'cameraMovement'
    ];
    
    selectElements.forEach(id => {
        const elem = document.getElementById(id);
        if (elem) {
            // ‡∏•‡∏ö listener ‡πÄ‡∏Å‡πà‡∏≤
            elem.removeEventListener('change', updateTemplatePreview);
            // ‡πÄ‡∏û‡∏¥‡πà‡∏° listener ‡πÉ‡∏´‡∏°‡πà
            elem.addEventListener('change', function() {
                console.log(`${id} changed to:`, this.value);
                updateTemplatePreview();
            });
        }
    });
    
    // 2. ‡πÄ‡∏û‡∏¥‡πà‡∏° event listeners ‡πÉ‡∏´‡πâ input ‡πÅ‡∏•‡∏∞ textarea
    const inputElements = ['location', 'additionalDetails', 'dialogueText'];
    
    inputElements.forEach(id => {
        const elem = document.getElementById(id);
        if (elem) {
            elem.removeEventListener('input', updateTemplatePreview);
            elem.addEventListener('input', function() {
                console.log(`${id} input:`, this.value);
                updateTemplatePreview();
            });
        }
    });
    
    // 3. ‡πÄ‡∏û‡∏¥‡πà‡∏° listeners ‡πÉ‡∏´‡πâ checkboxes
    const checkboxes = document.querySelectorAll('.effects-checkboxes input[type="checkbox"]');
    checkboxes.forEach(cb => {
        cb.removeEventListener('change', updateTemplatePreview);
        cb.addEventListener('change', updateTemplatePreview);
    });
    
    console.log('‚úÖ Event listeners attached!');
}

// Override updateTemplatePreview ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô
window.updateTemplatePreview = function() {
    console.log('üìã Updating preview...');
    
    try {
        const preview = document.getElementById('templatePreview');
        if (!preview) {
            console.error('Preview element not found');
            return;
        }
        
        // ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°
        const formData = {
            videoType: document.getElementById('videoType')?.value || '',
            cameraAngle: document.getElementById('cameraAngle')?.value || '',
            timeOfDay: document.getElementById('timeOfDay')?.value || '',
            visualStyle: document.getElementById('visualStyle')?.value || '',
            duration: document.getElementById('duration')?.value || '',
            location: document.getElementById('location')?.value || '',
            mood: document.getElementById('mood')?.value || '',
            soundType: document.getElementById('soundType')?.value || '',
            sceneType: document.getElementById('sceneType')?.value || '',
            cameraMovement: document.getElementById('cameraMovement')?.value || ''
        };
        
        // ‡∏™‡∏£‡πâ‡∏≤‡∏á preview HTML
        let previewHTML = '<strong>üîç Preview - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å:</strong><br><br>';
        
        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ü‡∏≠‡∏£‡πå‡∏°
        if (formData.videoType) previewHTML += `üé¨ <strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:</strong> ${formData.videoType}<br>`;
        if (formData.cameraAngle) previewHTML += `üì∑ <strong>‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á:</strong> ${formData.cameraAngle}<br>`;
        if (formData.timeOfDay) previewHTML += `üåÖ <strong>‡πÅ‡∏™‡∏á/‡πÄ‡∏ß‡∏•‡∏≤:</strong> ${formData.timeOfDay}<br>`;
        if (formData.visualStyle) previewHTML += `üé® <strong>‡∏™‡πÑ‡∏ï‡∏•‡πå:</strong> ${formData.visualStyle}<br>`;
        if (formData.duration) previewHTML += `‚è±Ô∏è <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß:</strong> ${formData.duration}<br>`;
        if (formData.location) previewHTML += `üìç <strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà:</strong> ${formData.location}<br>`;
        if (formData.mood) previewHTML += `üòä <strong>‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå:</strong> ${formData.mood}<br>`;
        if (formData.soundType) previewHTML += `üîä <strong>‡πÄ‡∏™‡∏µ‡∏¢‡∏á:</strong> ${formData.soundType}<br>`;
        if (formData.sceneType) previewHTML += `üé≠ <strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏â‡∏≤‡∏Å:</strong> ${formData.sceneType}<br>`;
        if (formData.cameraMovement) previewHTML += `üé¨ <strong>‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á:</strong> ${formData.cameraMovement}<br>`;
        
        // ========== ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ==========
        const charCount = window.templateCharCount || 0;
        if (charCount > 0) {
            previewHTML += `<br>üë• <strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£:</strong> ${charCount} ‡∏Ñ‡∏ô<br>`;
            previewHTML += '<strong>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£:</strong><br>';
            
            let hasCharData = false;
            for (let i = 1; i <= charCount; i++) {
                const charField = document.getElementById(`char${i}`);
                if (charField && charField.value) {
                    // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏ô preview (‡∏ï‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏™‡∏±‡πâ‡∏ô)
                    const charPreview = charField.value.length > 100 ? 
                        charField.value.substring(0, 100) + '...' : 
                        charField.value;
                    previewHTML += `<div style="margin-left: 20px; color: #10b981;">${i}. ${charPreview}</div>`;
                    hasCharData = true;
                } else {
                    previewHTML += `<div style="margin-left: 20px; color: #666;">${i}. (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏)</div>`;
                }
            }
            
            if (hasCharData) {
                console.log('‚úÖ Character data found in preview');
            }
        }
        
        // Effects
        const effects = [];
        document.querySelectorAll('.effects-checkboxes input:checked').forEach(cb => {
            if (cb.nextElementSibling) {
                effects.push(cb.nextElementSibling.textContent);
            }
        });
        if (effects.length > 0) {
            previewHTML += `<br>‚ú® <strong>Effects:</strong> ${effects.join(', ')}<br>`;
        }
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        const hasData = Object.values(formData).some(val => val !== '') || charCount > 0;
        
        if (!hasData) {
            preview.innerHTML = '<p style="color: #666; text-align: center;">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á...</p>';
        } else {
            previewHTML += '<br><em style="color: #10b981;">‚úì ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á prompt ‡πÅ‡∏•‡πâ‡∏ß!</em>';
            preview.innerHTML = previewHTML;
        }
        
    } catch (error) {
        console.error('Error in updateTemplatePreview:', error);
    }
};

// Override generateFromTemplate ‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
window.generateFromTemplate = function() {
    console.log('Generating prompt from template...');
    console.log('Current mode:', currentMode);
    
    let prompt = '';
    
    try {
        // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°
        const getValue = (id) => {
            const elem = document.getElementById(id);
            const value = elem ? elem.value : '';
            console.log(`${id}: "${value}"`);
            return value;
        };
        
        if (currentMode === 'general' || currentMode === 'multichar') {
            // ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            const videoType = getValue('videoType');
            const cameraAngle = getValue('cameraAngle');
            const timeOfDay = getValue('timeOfDay');
            const visualStyle = getValue('visualStyle');
            const duration = getValue('duration');
            const location = getValue('location');
            const mood = getValue('mood');
            const soundType = getValue('soundType');
            const sceneType = getValue('sceneType');
            const cameraMovement = getValue('cameraMovement');
            const dialogueText = getValue('dialogueText');
            const additionalDetails = getValue('additionalDetails');
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á prompt
            prompt = currentMode === 'general' ? 
                '‡∏™‡∏£‡πâ‡∏≤‡∏á Cinematic Veo Prompt ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:\n\n' :
                '‡∏™‡∏£‡πâ‡∏≤‡∏á Multi-Character Scene ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏°‡∏≤‡∏Å:\n\n';
            
            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ
            if (videoType) prompt += `üé¨ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: ${videoType}\n`;
            if (sceneType) prompt += `üé≠ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏â‡∏≤‡∏Å: ${sceneType}\n`;
            if (location) prompt += `üìç ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà: ${location}\n`;
            if (cameraAngle) prompt += `üì∑ ‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á: ${cameraAngle}\n`;
            if (cameraMovement) prompt += `üé¨ ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á: ${cameraMovement}\n`;
            if (timeOfDay) prompt += `üåÖ ‡πÅ‡∏™‡∏á/‡πÄ‡∏ß‡∏•‡∏≤: ${timeOfDay}\n`;
            if (visualStyle) prompt += `üé® ‡∏™‡πÑ‡∏ï‡∏•‡πå: ${visualStyle}\n`;
            if (mood) prompt += `üòä ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå: ${mood}\n`;
            if (soundType) prompt += `üîä ‡πÄ‡∏™‡∏µ‡∏¢‡∏á: ${soundType}\n`;
            if (duration) prompt += `‚è±Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß: ${duration}\n`;
            
            // === ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: Characters ===
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á
            let charCount = 0;
            
            // 1. ‡∏•‡∏≠‡∏á‡∏à‡∏≤‡∏Å window.templateCharCount ‡∏Å‡πà‡∏≠‡∏ô
            if (window.templateCharCount !== undefined && window.templateCharCount > 0) {
                charCount = window.templateCharCount;
                console.log('‡πÉ‡∏ä‡πâ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏≤‡∏Å window.templateCharCount:', charCount);
            }
            // 2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‡∏•‡∏≠‡∏á‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á input ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            else {
                for (let i = 1; i <= 5; i++) {
                    const charInput = document.getElementById(`char${i}`);
                    if (charInput && charInput.value && charInput.value.trim() !== '') {
                        charCount = i;
                    }
                }
                console.log('‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏≤‡∏Å input fields:', charCount);
            }
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
            if (charCount > 0) {
                prompt += `\nüë• ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£: ${charCount} ‡∏Ñ‡∏ô\n`;
                prompt += '‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£:\n';
                
                for (let i = 1; i <= charCount; i++) {
                    const charInput = document.getElementById(`char${i}`);
                    if (charInput && charInput.value) {
                        prompt += `${i}. ${charInput.value}\n`;
                        console.log(`‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ${i}: ${charInput.value.substring(0, 50)}...`);
                    } else {
                        prompt += `${i}. (‡πÉ‡∏´‡πâ AI ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏â‡∏≤‡∏Å)\n`;
                    }
                }
            }
            // === ‡∏à‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ===
            
            // Effects
            const effects = [];
            document.querySelectorAll('.effects-checkboxes input:checked').forEach(cb => {
                if (cb.nextElementSibling) {
                    effects.push(cb.nextElementSibling.textContent);
                }
            });
            if (effects.length > 0) {
                prompt += `\n‚ú® Effects: ${effects.join(', ')}\n`;
            }
            
            // Dialogue
            if (dialogueText) {
                prompt += `\nüí¨ ‡∏ö‡∏ó‡∏û‡∏π‡∏î:\n${dialogueText}\n`;
            }
            
            // Additional details
            if (additionalDetails) {
                prompt += `\nüìù ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: ${additionalDetails}\n`;
            }
            
            // Footer
            prompt += '\n‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î cinematography, ‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á, ‡πÅ‡∏™‡∏á, ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß ‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡∏û‡∏∏‡∏ï‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©';
        }
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ prompt ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        if (!prompt || prompt.length < 50) {
            alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt');
            return;
        }
        
        // ‡πÉ‡∏™‡πà prompt ‡πÉ‡∏ô textarea
        const messageInput = document.getElementById('messageInput');
        if (messageInput) {
            messageInput.value = prompt;
            
            // Auto resize
            messageInput.style.height = 'auto';
            messageInput.style.height = messageInput.scrollHeight + 'px';
            
            // ‡∏õ‡∏¥‡∏î modal
            closeTemplateForm();
            
            // ‡∏™‡πà‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
            // setTimeout(() => {
            //     sendMessage();
            // }, 500);
            
            // Scroll to input
            messageInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            console.log('‚úÖ Prompt generated successfully!');
            
            if (typeof showNotification === 'function') {
                showNotification('üìã ‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏Å‡∏î "‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt ‚ú®" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£', 'success');
            }
        }
        
    } catch (error) {
        console.error('Error generating prompt:', error);
        alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message);
    }
};
</script>

<!-- Character Template Modal -->
<div id="characterTemplateModal" class="character-template-modal" style="display: none;">
    <div class="character-template-content">
        <button class="close-btn" onclick="closeCharacterTemplate()">‚úï</button>
        
        <h2>üìã Character Identity Template (Prompt D)</h2>
        <p class="template-subtitle">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á prompt ‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</p>
        
        <div class="character-template-form">
            <!-- 1. ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å / ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó -->
            <div class="template-section">
                <h3>üë©‚Äçüè´ 1. ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å / ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</h3>
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Prompt:</label>
                    <input type="text" id="charNickname" placeholder='‡πÄ‡∏ä‡πà‡∏ô "CEO ‡∏™‡∏≤‡∏ß", "‡∏ô‡∏±‡∏Å‡∏™‡∏∑‡∏ö‡∏´‡∏ô‡∏∏‡πà‡∏°"'>
                </div>
                <div class="form-group">
                    <label>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó:</label>
                    <input type="text" id="charRole" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ / ‡∏ú‡∏π‡πâ‡∏™‡∏≤‡∏ò‡∏¥‡∏ï / ‡∏ï‡∏±‡∏ß‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å">
                </div>
            </div>

            <!-- 2. ‡πÄ‡∏û‡∏® / ‡∏≠‡∏≤‡∏¢‡∏∏ / ‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥ -->
            <div class="template-section">
                <h3>üßë‚Äçüé® 2. ‡πÄ‡∏û‡∏® / ‡∏≠‡∏≤‡∏¢‡∏∏ / ‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>‡πÄ‡∏û‡∏®:</label>
                        <select id="charGender">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏® --</option>
                            <option value="‡∏ä‡∏≤‡∏¢">‡∏ä‡∏≤‡∏¢</option>
                            <option value="‡∏´‡∏ç‡∏¥‡∏á">‡∏´‡∏ç‡∏¥‡∏á</option>
                            <option value="‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏">‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>‡∏≠‡∏≤‡∏¢‡∏∏‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì:</label>
                        <input type="text" id="charAge" placeholder='‡πÄ‡∏ä‡πà‡∏ô "30 ‡∏õ‡∏µ", "‡∏ß‡∏±‡∏¢‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏ô"'>
                    </div>
                </div>
                <div class="form-group">
                    <label>‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥ / ‡∏†‡∏π‡∏°‡∏¥‡∏´‡∏•‡∏±‡∏á:</label>
                    <input type="text" id="charEthnicity" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏ó‡∏¢ / ‡∏•‡∏π‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á / ‡∏≠‡πÄ‡∏°‡∏£‡∏¥‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡πÄ‡∏ä‡∏µ‡∏¢">
                </div>
            </div>

            <!-- 3. ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á / ‡∏ú‡∏¥‡∏ß / ‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á -->
            <div class="template-section">
                <h3>üíÉ 3. ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á / ‡∏ú‡∏¥‡∏ß / ‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á</h3>
                <div class="form-group">
                    <label>‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á:</label>
                    <input type="text" id="charBody" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏∏‡πà‡∏ô‡∏î‡∏µ / ‡∏ú‡∏≠‡∏° / ‡∏≠‡πâ‡∏ß‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ / ‡∏™‡∏π‡∏á‡πÄ‡∏û‡∏£‡∏µ‡∏¢‡∏ß">
                </div>
                <div class="form-group">
                    <label>‡∏ú‡∏¥‡∏ß:</label>
                    <input type="text" id="charSkin" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏≤‡∏ß‡∏≠‡∏°‡∏ä‡∏°‡∏û‡∏π / ‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á / ‡πÅ‡∏ó‡∏ô‡πÄ‡∏Ç‡πâ‡∏°">
                </div>
                <div class="form-group">
                    <label>‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á / ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å:</label>
                    <input type="text" id="charPosture" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏¢‡∏∑‡∏ô‡∏ï‡∏£‡∏á / ‡∏î‡∏π‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à / ‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢">
                </div>
            </div>

            <!-- 4. ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ú‡∏° / ‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤ -->
            <div class="template-section">
                <h3>üíá‚Äç‚ôÄÔ∏è 4. ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ú‡∏° / ‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤</h3>
                <div class="form-group">
                    <label>‡∏ó‡∏£‡∏á‡∏ú‡∏°:</label>
                    <input type="text" id="charHair" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏°‡∏î‡∏≥‡∏¢‡∏≤‡∏ß ‡∏£‡∏ß‡∏ö‡∏´‡∏≤‡∏á‡∏°‡πâ‡∏≤‡∏ï‡πà‡∏≥ / ‡πÅ‡∏™‡∏Å‡∏Å‡∏•‡∏≤‡∏á / ‡∏´‡∏ô‡πâ‡∏≤‡∏°‡πâ‡∏≤">
                </div>
                <div class="form-group">
                    <label>‡∏Ñ‡∏¥‡πâ‡∏ß / ‡∏î‡∏ß‡∏á‡∏ï‡∏≤ / ‡∏£‡∏¥‡∏°‡∏ù‡∏µ‡∏õ‡∏≤‡∏Å:</label>
                    <input type="text" id="charFace" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏¥‡πâ‡∏ß‡πÑ‡∏î‡πâ‡∏£‡∏π‡∏õ / ‡∏ï‡∏≤‡∏Ñ‡∏° / ‡∏õ‡∏≤‡∏Å‡∏≠‡∏°‡∏ä‡∏°‡∏û‡∏π">
                </div>
            </div>

            <!-- 5. ‡πÅ‡∏ß‡πà‡∏ô / ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö -->
            <div class="template-section">
                <h3>üëì 5. ‡πÅ‡∏ß‡πà‡∏ô / ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö</h3>
                <div class="form-group">
                    <label>‡πÅ‡∏ß‡πà‡∏ô:</label>
                    <input type="text" id="charGlasses" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏£‡∏á‡∏Å‡∏•‡∏°‡∏Ç‡∏≠‡∏ö‡∏ö‡∏≤‡∏á‡∏™‡∏µ‡∏ó‡∏≠‡∏á (‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà)">
                </div>
                <div class="form-group">
                    <label>‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ / ‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏π / ‡∏™‡∏£‡πâ‡∏≠‡∏¢:</label>
                    <input type="text" id="charAccessories" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå '‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà'">
                </div>
            </div>

            <!-- 6. ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢ -->
            <div class="template-section">
                <h3>üëó 6. ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢</h3>
                <div class="form-group">
                    <label>‡πÄ‡∏™‡∏∑‡πâ‡∏≠:</label>
                    <input type="text" id="charShirt" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡∏¥‡πâ‡∏ï‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß / ‡∏Ñ‡∏≠‡∏õ‡∏Å / ‡πÅ‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß">
                </div>
                <div class="form-group">
                    <label>‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Ñ‡∏•‡∏∏‡∏° / ‡∏™‡∏π‡∏ó:</label>
                    <input type="text" id="charJacket" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏π‡∏ó‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô / ‡∏ú‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏´‡∏£‡∏π / ‡∏ó‡∏£‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏¥‡∏£‡πå‡∏ô">
                </div>
                <div class="form-group">
                    <label>‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á / ‡∏Å‡∏£‡∏∞‡πÇ‡∏õ‡∏£‡∏á:</label>
                    <input type="text" id="charPants" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏Ç‡∏≤‡∏¢‡∏≤‡∏ß‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏•‡πâ‡∏ß‡∏ô / ‡∏ó‡∏£‡∏á‡∏ï‡∏£‡∏á">
                </div>
                <div class="form-group">
                    <label>‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤:</label>
                    <input type="text" id="charShoes" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏™‡πâ‡∏ô‡∏™‡∏π‡∏á‡∏´‡∏±‡∏ß‡πÅ‡∏´‡∏•‡∏°‡∏™‡∏µ‡∏Ñ‡∏£‡∏µ‡∏°">
                </div>
            </div>

            <!-- 7. ‡∏ô‡πâ‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏á / ‡∏ß‡∏¥‡∏ò‡∏µ‡∏û‡∏π‡∏î -->
            <div class="template-section">
                <h3>üéôÔ∏è 7. ‡∏ô‡πâ‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏á / ‡∏ß‡∏¥‡∏ò‡∏µ‡∏û‡∏π‡∏î</h3>
                <div class="form-group">
                    <label>‡πÇ‡∏ó‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á:</label>
                    <input type="text" id="charVoiceTone" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏∏‡∏†‡∏≤‡∏û / ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô / ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à / ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏à">
                </div>
                <div class="form-group">
                    <label>‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î:</label>
                    <input type="text" id="charSpeechStyle" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏° / ‡∏à‡∏ö‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÅ‡∏ô‡πà‡∏ß‡πÅ‡∏ô‡πà">
                </div>
            </div>

            <!-- 8. ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô -->
            <div class="template-section">
                <h3>üíº 8. ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô</h3>
                <div class="form-group">
                    <label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à:</label>
                    <input type="text" id="charConfidence" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏π‡∏î / ‡πÑ‡∏°‡πà‡∏•‡∏±‡∏á‡πÄ‡∏•">
                </div>
                <div class="form-group">
                    <label>‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏Å‡∏•‡πâ‡∏≠‡∏á:</label>
                    <input type="text" id="charCameraPresence" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏ö‡∏ï‡∏≤ / ‡∏¢‡∏¥‡πâ‡∏° / ‡∏™‡πà‡∏á‡∏û‡∏•‡∏±‡∏á‡∏ö‡∏ß‡∏Å">
                </div>
                <div class="form-group">
                    <label>‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÉ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á:</label>
                    <input type="text" id="charStoryRole" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á / ‡∏û‡∏π‡∏î‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ / ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö / ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ">
                </div>
            </div>

            <!-- Actions -->
<div class="template-actions">
    <button class="generate-from-template-btn" onclick="generateFromCharacterTemplate()">
        ‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á Character Profile
    </button>
    <button class="cancel-btn" onclick="closeCharacterTemplate()">
        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
    </button>
</div>
        </div>
    </div>
</div>

<!-- FAB Menu System -->
<div class="fab-menu-container">
    <!-- Backdrop -->
    <div class="fab-backdrop" onclick="closeFabMenu()"></div>
    
    <!-- Main FAB Button -->
    <button class="fab-main" onclick="toggleFabMenu()">
        <span class="fab-main-icon">
            <span class="plus-icon">+</span>
            <span class="close-icon">√ó</span>
        </span>
        <span class="fab-badge">5</span>
    </button>
    
    <!-- FAB Menu Items -->
    <div class="fab-menu-items">
        <button class="fab-item" onclick="showAnnouncement(); closeFabMenu();" data-label="‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£">
            <span class="fab-icon">üì¢</span>
        </button>
        
        <button class="fab-item" onclick="showCourse(); closeFabMenu();" data-label="‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô">
            <span class="fab-icon">üéì</span>
        </button>
        
        <button class="fab-item" onclick="toggleToolsMenu(); closeFabMenu();" data-label="‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠">
            <span class="fab-icon">üõ†Ô∏è</span>
        </button>
        
        <button class="fab-item" onclick="showMusicVideoForm(); closeFabMenu();" data-label="Music Video">
            <span class="fab-icon">üéµ</span>
        </button>
        
        <button class="fab-item" onclick="openVideoAnalyzer(); closeFabMenu();" data-label="‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠">
            <span class="fab-icon">üé¨</span>
        </button>
    </div>
</div>

<!-- Support Button -->
<div class="support-button" onclick="window.open('https://m.me/719837687869400', '_blank')">
    <div class="support-icon">üí¨</div>
    <div class="support-text">‡πÅ‡∏à‡πâ‡∏á/‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</div>
</div>

</body>
</html>